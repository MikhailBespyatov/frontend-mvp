Object.defineProperty(exports, '__esModule', { value: true });

var react = require('react');
var reactDom = require('react-dom');
var utils = require('./utils.js');

var Portal = react.forwardRef(function (_a, ref) {
    var _b = _a.getPortalContainer, getPortalContainer = _b === void 0 ? utils.getDefaultPortalContainer : _b, children = _a.children;
    var _c = react.useState(null), mountNode = _c[0], setMountNode = _c[1];
    react.useEffect(function () {
        setMountNode(getPortalContainer());
    }, [getPortalContainer]);
    react.useEffect(function () {
        if (mountNode) {
            utils.setRef(ref, mountNode);
            return function () {
                utils.setRef(ref, null);
            };
        }
        return function () { return null; };
    }, [ref, mountNode]);
    return mountNode ? reactDom.createPortal(children, mountNode) : mountNode;
});

exports.Portal = Portal;
