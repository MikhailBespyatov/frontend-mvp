import { endOfMonth, startOfMonth } from 'date-fns';
import { limitDate } from '../../calendar/modern';

function useCalendarMaxMinDates({ isPopover, monthTo, monthFrom, selectedTo, selectedFrom, maxDate, minDate, }) {
    const popoverFromMaxDate = selectedTo || maxDate;
    const fromMaxDate = limitDate(endOfMonth(monthFrom), minDate, maxDate).getTime();
    const popoverToMinDate = selectedFrom || minDate;
    const toMinDate = limitDate(startOfMonth(monthTo), minDate, maxDate).getTime();
    return {
        fromMinDate: minDate,
        toMaxDate: maxDate,
        fromMaxDate: isPopover ? popoverFromMaxDate : fromMaxDate,
        toMinDate: isPopover ? popoverToMinDate : toMinDate,
    };
}

export { useCalendarMaxMinDates };
