import { dateInLimits } from '../../calendar/modern';
import { parseDateString } from '../../calendar-input/modern';

const initialValueState = { date: null, value: '' };
const getCorrectValueState = (stateValue, propValue, minDate, maxDate) => {
    const state = propValue === undefined
        ? stateValue
        : { value: propValue, date: parseDateString(propValue).getTime() };
    if (!dateInLimits(state.date, minDate, maxDate)) {
        state.date = null;
    }
    return state;
};
const isDayButton = (node) => node && node.tagName === 'BUTTON' && node.dataset.date;

export { getCorrectValueState, initialValueState, isDayButton };
