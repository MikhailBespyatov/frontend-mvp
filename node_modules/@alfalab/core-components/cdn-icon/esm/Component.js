import React, { useState, useEffect } from 'react';
import cn from 'classnames';

var styles = {"component":"cdn-icon__component_u690f"};
require('./index.css');

var CDNIcon = function (_a) {
    var name = _a.name, color = _a.color, dataTestId = _a.dataTestId, className = _a.className;
    var _b = useState(''), icon = _b[0], setIcon = _b[1];
    useEffect(function () {
        var xhr = new XMLHttpRequest();
        xhr.open('GET', "https://alfabank.gcdn.co/icons/" + name + ".svg");
        xhr.send();
        xhr.onload = function onload() {
            var svg = xhr.response;
            if (svg.startsWith('<svg'))
                setIcon(svg);
        };
        return function () { return xhr.abort(); };
    }, [name]);
    return (React.createElement("span", { style: { color: color }, className: cn(styles.component, className), 
        // eslint-disable-next-line react/no-danger
        dangerouslySetInnerHTML: { __html: icon }, "data-test-id": dataTestId }));
};

export { CDNIcon };
