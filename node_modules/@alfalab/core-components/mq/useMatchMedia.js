Object.defineProperty(exports, '__esModule', { value: true });

var React = require('react');
var utils = require('./utils.js');

/**
 * Хук для медиа запросов.
 * @param query media выражение или кастомный запрос из `mq.json`, например `--mobile`.
 */
var useMatchMedia = function (query) {
    var _a = React.useState(false), matches = _a[0], setMatches = _a[1];
    React.useEffect(function () {
        var mql = utils.getMatchMedia(query);
        var handleMatchChange = function () { return setMatches(mql.matches); };
        mql.addListener(handleMatchChange);
        handleMatchChange();
        return function () {
            mql.removeListener(handleMatchChange);
            utils.releaseMatchMedia(query);
        };
    }, [query]);
    return [matches];
};

exports.useMatchMedia = useMatchMedia;
