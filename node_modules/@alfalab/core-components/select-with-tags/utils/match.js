Object.defineProperty(exports, '__esModule', { value: true });

var tslib_es6 = require('../tslib.es6-83965c31.js');
var coreComponentsSelect = require('../../select');

var defaultMatch = function (option, inputValue) {
    return option.value.toLowerCase().indexOf((inputValue || '').toLowerCase(), 0) !== -1;
};
var optionsIsGroupShapes = function (options) {
    var item = options[0];
    if (!item) {
        return false;
    }
    return coreComponentsSelect.isGroup(item);
};
var filterOptions = function (options, inputValue, math) {
    if (math === void 0) { math = defaultMatch; }
    if (optionsIsGroupShapes(options)) {
        return options.reduce(function (acc, group) {
            var matchedOptions = group.options.filter(function (option) { return math(option, inputValue); });
            if (matchedOptions.length > 0) {
                acc.push(tslib_es6.__assign(tslib_es6.__assign({}, group), { options: matchedOptions }));
                return acc;
            }
            return acc;
        }, []);
    }
    return options.filter(function (option) { return math(option, inputValue); });
};

exports.filterOptions = filterOptions;
