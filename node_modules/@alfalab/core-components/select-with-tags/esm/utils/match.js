import { a as __assign } from '../tslib.es6-e918a731.js';
import { isGroup } from '../../../select/esm';

var defaultMatch = function (option, inputValue) {
    return option.value.toLowerCase().indexOf((inputValue || '').toLowerCase(), 0) !== -1;
};
var optionsIsGroupShapes = function (options) {
    var item = options[0];
    if (!item) {
        return false;
    }
    return isGroup(item);
};
var filterOptions = function (options, inputValue, math) {
    if (math === void 0) { math = defaultMatch; }
    if (optionsIsGroupShapes(options)) {
        return options.reduce(function (acc, group) {
            var matchedOptions = group.options.filter(function (option) { return math(option, inputValue); });
            if (matchedOptions.length > 0) {
                acc.push(__assign(__assign({}, group), { options: matchedOptions }));
                return acc;
            }
            return acc;
        }, []);
    }
    return options.filter(function (option) { return math(option, inputValue); });
};

export { filterOptions };
