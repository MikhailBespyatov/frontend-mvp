Object.defineProperty(exports, '__esModule', { value: true });

var components_selectField_component = require('../../component-88f82cfc.js');
var React = require('react');
require('classnames');
require('react-merge-refs');
require('@alfalab/hooks');
require('../flag-icon/index.module.css');
var components_flagIcon_component = require('../flag-icon/component.js');
require('../select-field/index.module.css');
var coreComponentsSelect = require('../../../../select/cssm');
var styles = require('./index.module.css');

function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }

var React__default = /*#__PURE__*/_interopDefaultLegacy(React);
var styles__default = /*#__PURE__*/_interopDefaultLegacy(styles);

var CountriesSelect = function (_a) {
    var disabled = _a.disabled, size = _a.size, selected = _a.selected, countries = _a.countries, fieldWidth = _a.fieldWidth, preventFlip = _a.preventFlip, onChange = _a.onChange, dataTestId = _a.dataTestId;
    var options = React.useMemo(function () {
        return countries.map(function (_a) {
            var iso2 = _a.iso2, dialCode = _a.dialCode, name = _a.name;
            return ({
                key: iso2,
                value: iso2,
                content: (React__default['default'].createElement("span", { className: styles__default['default'].option },
                    React__default['default'].createElement(components_flagIcon_component.FlagIcon, { country: iso2, className: styles__default['default'].flag }),
                    React__default['default'].createElement("span", { className: styles__default['default'].optionTextWrap },
                        React__default['default'].createElement("span", { className: styles__default['default'].countryName }, name),
                        React__default['default'].createElement("span", { className: styles__default['default'].dialCode },
                            "+",
                            dialCode)))),
            });
        });
    }, [countries]);
    var renderOptionsList = React.useCallback(function (props) { return (React__default['default'].createElement("div", { style: { width: fieldWidth || 0 } },
        React__default['default'].createElement(coreComponentsSelect.OptionsList, components_selectField_component.__assign({}, props)))); }, [fieldWidth]);
    return (React__default['default'].createElement("div", { className: styles__default['default'].component, onClick: function (event) { return event.stopPropagation(); } },
        React__default['default'].createElement(coreComponentsSelect.Select, { dataTestId: dataTestId, disabled: disabled, size: size, options: options, selected: selected, onChange: onChange, Field: components_selectField_component.SelectField, OptionsList: renderOptionsList, preventFlip: preventFlip })));
};

exports.CountriesSelect = CountriesSelect;
