Object.defineProperty(exports, '__esModule', { value: true });

var components_selectField_component = require('../../component-8d00dcd7.js');
var React = require('react');
require('classnames');
require('react-merge-refs');
require('@alfalab/hooks');
var components_flagIcon_component = require('../flag-icon/component.js');
var coreComponentsSelect = require('../../../select');

function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }

var React__default = /*#__PURE__*/_interopDefaultLegacy(React);

var styles = {"component":"intl-phone-input__component_4sq0p","option":"intl-phone-input__option_4sq0p","flag":"intl-phone-input__flag_4sq0p","countryName":"intl-phone-input__countryName_4sq0p","dialCode":"intl-phone-input__dialCode_4sq0p"};
require('./index.css');

var CountriesSelect = function (_a) {
    var disabled = _a.disabled, size = _a.size, selected = _a.selected, countries = _a.countries, fieldWidth = _a.fieldWidth, preventFlip = _a.preventFlip, onChange = _a.onChange, dataTestId = _a.dataTestId;
    var options = React.useMemo(function () {
        return countries.map(function (_a) {
            var iso2 = _a.iso2, dialCode = _a.dialCode, name = _a.name;
            return ({
                key: iso2,
                value: iso2,
                content: (React__default['default'].createElement("span", { className: styles.option },
                    React__default['default'].createElement(components_flagIcon_component.FlagIcon, { country: iso2, className: styles.flag }),
                    React__default['default'].createElement("span", { className: styles.optionTextWrap },
                        React__default['default'].createElement("span", { className: styles.countryName }, name),
                        React__default['default'].createElement("span", { className: styles.dialCode },
                            "+",
                            dialCode)))),
            });
        });
    }, [countries]);
    var renderOptionsList = React.useCallback(function (props) { return (React__default['default'].createElement("div", { style: { width: fieldWidth || 0 } },
        React__default['default'].createElement(coreComponentsSelect.OptionsList, components_selectField_component.__assign({}, props)))); }, [fieldWidth]);
    return (React__default['default'].createElement("div", { className: styles.component, onClick: function (event) { return event.stopPropagation(); } },
        React__default['default'].createElement(coreComponentsSelect.Select, { dataTestId: dataTestId, disabled: disabled, size: size, options: options, selected: selected, onChange: onChange, Field: components_selectField_component.SelectField, OptionsList: renderOptionsList, preventFlip: preventFlip })));
};

exports.CountriesSelect = CountriesSelect;
