Object.defineProperty(exports, '__esModule', { value: true });

var tslib_es6 = require('./tslib.es6-ce870b46.js');
var React = require('react');
var cn = require('classnames');
var coreComponentsBaseModal = require('../../base-modal/cssm');
var mergeRefs = require('react-merge-refs');
require('./Context.js');
require('../../button/cssm');
require('./components/closer/index.module.css');
var components_closer_Component = require('./components/closer/Component.js');
require('./components/header/Component.js');
require('./components/header/desktop.module.css');
var components_header_Component_desktop = require('./components/header/Component.desktop.js');
require('./components/content/Component.js');
require('./components/content/desktop.module.css');
var components_content_Component_desktop = require('./components/content/Component.desktop.js');
require('./components/footer/layout.module.css');
require('./components/footer/Component.js');
require('./components/footer/desktop.module.css');
var components_footer_Component_desktop = require('./components/footer/Component.desktop.js');
var styles = require('./desktop.module.css');
var transitions = require('./transitions.module.css');

function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }

var React__default = /*#__PURE__*/_interopDefaultLegacy(React);
var cn__default = /*#__PURE__*/_interopDefaultLegacy(cn);
var mergeRefs__default = /*#__PURE__*/_interopDefaultLegacy(mergeRefs);
var styles__default = /*#__PURE__*/_interopDefaultLegacy(styles);
var transitions__default = /*#__PURE__*/_interopDefaultLegacy(transitions);

var ModalDesktopComponent = React.forwardRef(function (_a, ref) {
    var _b;
    var _c = _a.size, size = _c === void 0 ? 's' : _c, fixedPosition = _a.fixedPosition, fullscreen = _a.fullscreen, children = _a.children, className = _a.className, wrapperClassName = _a.wrapperClassName, _d = _a.transitionProps, transitionProps = _d === void 0 ? {} : _d, restProps = tslib_es6.__rest(_a, ["size", "fixedPosition", "fullscreen", "children", "className", "wrapperClassName", "transitionProps"]);
    var modalRef = React.useRef(null);
    var handleEntered = React.useCallback(function (node, isAppearing) {
        if (fixedPosition && modalRef.current) {
            var content = modalRef.current.querySelector("." + styles__default['default'].component);
            if (content) {
                var marginTop = window.getComputedStyle(content).marginTop;
                content.style.marginTop = marginTop;
            }
        }
        if (transitionProps.onEntered) {
            transitionProps.onEntered(node, isAppearing);
        }
    }, [fixedPosition, transitionProps]);
    return (React__default['default'].createElement(coreComponentsBaseModal.BaseModal, tslib_es6.__assign({}, restProps, { ref: mergeRefs__default['default']([ref, modalRef]), wrapperClassName: cn__default['default'](styles__default['default'].wrapper, wrapperClassName, (_b = {},
            _b[styles__default['default'].fullscreen] = fullscreen,
            _b)), className: cn__default['default'](styles__default['default'].component, className, !fullscreen && styles__default['default'][size]), backdropProps: tslib_es6.__assign(tslib_es6.__assign({}, restProps.backdropProps), { invisible: fullscreen }), transitionProps: tslib_es6.__assign(tslib_es6.__assign({ classNames: transitions__default['default'] }, transitionProps), { onEntered: handleEntered }) }), React__default['default'].Children.map(children, function (child) {
        return React.isValidElement(child)
            ? React.cloneElement(child, { size: child.props.size || size, fullscreen: fullscreen })
            : child;
    })));
});
var ModalDesktop = Object.assign(ModalDesktopComponent, {
    Content: components_content_Component_desktop.ContentDesktop,
    Header: components_header_Component_desktop.HeaderDesktop,
    Footer: components_footer_Component_desktop.FooterDesktop,
    Closer: components_closer_Component.Closer,
});

exports.ModalDesktop = ModalDesktop;
