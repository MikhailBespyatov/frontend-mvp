Object.defineProperty(exports, '__esModule', { value: true });

var React = require('react');
var cn = require('classnames');
var components_baseShape_utils = require('./utils.js');
var styles = require('./index.module.css');

function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }

var React__default = /*#__PURE__*/_interopDefaultLegacy(React);
var cn__default = /*#__PURE__*/_interopDefaultLegacy(cn);
var styles__default = /*#__PURE__*/_interopDefaultLegacy(styles);

var BaseShape = React.forwardRef(function (_a, ref) {
    var _b = _a.size, size = _b === void 0 ? 64 : _b, _c = _a.border, border = _c === void 0 ? false : _c, _d = _a.backgroundColor, backgroundColor = _d === void 0 ? '#f3f4f5' : _d, imageUrl = _a.imageUrl, className = _a.className, children = _a.children, topAddons = _a.topAddons, bottomAddons = _a.bottomAddons, pathsMap = _a.pathsMap, dataTestId = _a.dataTestId;
    var imagePatternId = imageUrl && imageUrl.replace(/[^a-z]+/g, '') + "_" + size;
    var hasTopAddons = Boolean(topAddons);
    var hasBottomAddons = Boolean(bottomAddons);
    var imagePattern = imagePatternId && (React__default['default'].createElement("defs", null,
        React__default['default'].createElement("pattern", { id: imagePatternId, width: '100%', height: '100%' },
            React__default['default'].createElement("image", { href: imageUrl, width: '100%', height: '100%', preserveAspectRatio: 'xMidYMid slice' }))));
    return (React__default['default'].createElement("div", { className: cn__default['default'](styles__default['default'].componentWrapper, styles__default['default']["size_" + size], className), ref: ref, "data-test-id": dataTestId },
        React__default['default'].createElement("div", { className: styles__default['default'].component },
            React__default['default'].createElement("svg", { width: size, height: size, viewBox: "0 0 " + size + " " + size, xmlns: 'http://www.w3.org/2000/svg', focusable: false },
                imagePattern,
                React__default['default'].createElement("path", { fill: imagePatternId ? "url(#" + imagePatternId + ")" : backgroundColor, d: components_baseShape_utils.getPath({
                        size: size,
                        hasTopAddons: hasTopAddons,
                        hasBottomAddons: hasBottomAddons,
                        pathsMap: pathsMap.shape,
                    }) }),
                border && (React__default['default'].createElement("path", { className: styles__default['default'].border, d: components_baseShape_utils.getPath({
                        size: size,
                        hasTopAddons: hasTopAddons,
                        hasBottomAddons: hasBottomAddons,
                        pathsMap: pathsMap.border,
                    }) }))),
            !imageUrl && React__default['default'].createElement("div", { className: styles__default['default'].children }, children)),
        hasTopAddons && (React__default['default'].createElement("div", { className: cn__default['default'](styles__default['default'].addons, styles__default['default'].topAddons) }, topAddons)),
        hasBottomAddons && (React__default['default'].createElement("div", { className: cn__default['default'](styles__default['default'].addons, styles__default['default'].bottomAddons) }, bottomAddons))));
});

exports.BaseShape = BaseShape;
