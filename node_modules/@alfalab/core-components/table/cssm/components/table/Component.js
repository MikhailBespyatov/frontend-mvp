Object.defineProperty(exports, '__esModule', { value: true });

var tslib_es6 = require('../../tslib.es6-ce870b46.js');
var React = require('react');
var cn = require('classnames');
require('../thead/index.module.css');
require('../thead/Component.js');
require('../../utils.js');
var components_table_utils = require('./utils.js');
var components_tableContext_index = require('../table-context/index.js');
var styles = require('./index.module.css');

function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }

var React__default = /*#__PURE__*/_interopDefaultLegacy(React);
var cn__default = /*#__PURE__*/_interopDefaultLegacy(cn);
var styles__default = /*#__PURE__*/_interopDefaultLegacy(styles);

var Table = React.forwardRef(function (_a, ref) {
    var _b;
    var className = _a.className, children = _a.children, _c = _a.compactView, compactView = _c === void 0 ? false : _c, _d = _a.wrapper, wrapper = _d === void 0 ? true : _d, pagination = _a.pagination, dataTestId = _a.dataTestId, restProps = tslib_es6.__rest(_a, ["className", "children", "compactView", "wrapper", "pagination", "dataTestId"]);
    var wrapperRef = React.useRef(null);
    var columnsConfiguration = React.useMemo(function () {
        return components_table_utils.findAllHeadCellsProps(children).map(function (columnProps, index) { return ({
            width: columnProps.width,
            textAlign: columnProps.textAlign,
            hidden: columnProps.hidden,
            index: index,
        }); });
    }, [children]);
    return (React__default['default'].createElement(components_tableContext_index.TableContext.Provider, { value: { columnsConfiguration: columnsConfiguration, compactView: compactView, wrapperRef: wrapperRef } },
        React__default['default'].createElement("div", { ref: wrapperRef, className: cn__default['default'](styles__default['default'].component, className, (_b = {},
                _b[styles__default['default'].wrapper] = wrapper,
                _b[styles__default['default'].hasPagination] = !!pagination,
                _b)), "data-test-id": dataTestId },
            React__default['default'].createElement("table", tslib_es6.__assign({ ref: ref, className: styles__default['default'].table }, restProps), children),
            pagination)));
});

exports.Table = Table;
