Object.defineProperty(exports, '__esModule', { value: true });

var tslib_es6 = require('../../tslib.es6-4b772a84.js');
var React = require('react');
require('classnames');
var dateFns = require('date-fns');
require('../../../button');
var components_selectButton_Component = require('../select-button/Component.js');

function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }

var React__default = /*#__PURE__*/_interopDefaultLegacy(React);

var styles = {"yearsTable":"calendar__yearsTable_dnrjm","inner":"calendar__inner_dnrjm","button":"calendar__button_dnrjm"};
require('./index.css');

var YearsTable = function (_a) {
    var selectedYear = _a.selectedYear, _b = _a.years, years = _b === void 0 ? [] : _b, getYearProps = _a.getYearProps, onScroll = _a.onScroll;
    var ref = React.useRef(null);
    var view = React.useCallback(function (year) {
        if (selectedYear && dateFns.isSameYear(selectedYear, year))
            return 'selected';
        if (dateFns.isThisYear(year))
            return 'outlined';
        return 'default';
    }, [selectedYear]);
    var handleScroll = React.useCallback(function (event) {
        onScroll(event.currentTarget.scrollTop);
    }, [onScroll]);
    React.useLayoutEffect(function () {
        var listNode = ref.current;
        var selector = "." + styles.button + "[tabIndex=\"0\"]";
        var selectedYearNode = listNode && listNode.querySelector(selector);
        if (listNode && selectedYearNode) {
            var topIndent = listNode.clientHeight / 2 - selectedYearNode.clientHeight / 2;
            listNode.scrollTop = selectedYearNode.offsetTop - topIndent;
            onScroll(listNode.scrollTop);
        }
    }, [onScroll, selectedYear]);
    return (React__default['default'].createElement("div", { className: styles.yearsTable, onScroll: handleScroll, ref: ref },
        React__default['default'].createElement("div", { className: styles.inner }, years.map(function (year) { return (React__default['default'].createElement(components_selectButton_Component.SelectButton, tslib_es6.__assign({}, getYearProps(year), { key: year.getFullYear(), view: view(year), className: styles.button }), year.getFullYear())); }))));
};

exports.YearsTable = YearsTable;
