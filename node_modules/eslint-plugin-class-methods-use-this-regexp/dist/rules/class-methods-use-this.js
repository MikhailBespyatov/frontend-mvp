'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _classMethodsUseThis = require('eslint/lib/rules/class-methods-use-this');

var _classMethodsUseThis2 = _interopRequireDefault(_classMethodsUseThis);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = {
    meta: _classMethodsUseThis2.default.meta,
    create: function create(context) {
        var config = context.options[0] ? Object.assign({}, context.options[0]) : {};
        var configExceptMethods = config.exceptMethods || [];

        var proxyContext = Object.assign({}, context);

        proxyContext.report = function report() {
            for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
                args[_key] = arguments[_key];
            }

            var node = args.length === 1 ? args[0].node : args[0];
            var methodName = node.parent.key.name;

            if (configExceptMethods.some(function (item) {
                return new RegExp(item).test(methodName);
            })) {
                return;
            }

            context.report.apply(context, args);
        };

        return _classMethodsUseThis2.default.create(proxyContext);
    }
};